{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css'\n\nconst variables = {\n    input: document.querySelector('#datetime-picker'),\n    startButton: document.querySelector('button[data-start]'),\n    days: document.querySelector('[data-days]'),\n    hours: document.querySelector('[data-hours]'),\n    minutes: document.querySelector('[data-minutes]'),\n    seconds: document.querySelector('[data-seconds]'),\n}\nlet selectedNewDates = null\nvariables.startButton.disabled = true\nvariables.startButton.addEventListener('click', start)\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        console.log(selectedDates[0]);\n\n        if (selectedDates[0] <= new Date()) {\n            iziToast.show({\n                position: 'center',\n                title: 'Sorry !',\n                message: 'Please choose a date in the future',\n            });\n        } else {\n            selectedNewDates = selectedDates[0].getTime();\n            variables.startButton.disabled = false;\n            variables.input.disabled = false;\n        }\n    },\n};\n\nflatpickr('input#datetime-picker', options);\n\nfunction start() {\n    const timer = setInterval(() => {\n        const currentDate = new Date().getTime();\n        const selectedDate = selectedDates - currentDate;\n        startTimer(convertTime(selectedDate));\n        variables.startButton.disabled = true;\n        variables.input.disabled = true;\n\n        if (selectedNewDates - currentDate < 1000) {\n            clearInterval(timer)\n            iziToast.show({\n                position: 'center',\n                title: 'Congratulations!',\n                message: 'Your time is now!'\n            })\n            variables.startButton.disabled = false;\n            variables.input.disabled = false;\n        }\n    }, 1000)\n}\n\nfunction convertTime(ms) {\n    const seconds = 1000\n    const minute = seconds * 60\n    const hour = minute * 60\n    const day = hour * 24\n\n    const remainingDays = addLeadingZero(Math.floor(ms / day))\n    const remainingHours = addLeadingZero(Math.floor((ms % day) / hour))\n    const remainingMinutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute))\n    const remainngSeconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second))\n\n    return { remainingDays, remainingHours, remainingMinutes, remainngSeconds }\n}\n\nfunction startTimer({ remainingDays, remainingHours, remainingMinutes, remainngSeconds }) {\n    variables.days.textContent = remainingDays\n    variables.hours.textContent = remainingHours\n    variables.minutes.textContent = remainingMinutes\n    variables.seconds.textContent = remainngSeconds\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0')\n}"],"names":["variables","selectedNewDates","start","options","selectedDates","iziToast","flatpickr","timer","currentDate","selectedDate","startTimer","convertTime","ms","remainingDays","addLeadingZero","remainingHours","remainingMinutes","remainngSeconds","value"],"mappings":"+IAKA,MAAMA,EAAY,CACd,MAAO,SAAS,cAAc,kBAAkB,EAChD,YAAa,SAAS,cAAc,oBAAoB,EACxD,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CACpD,EACA,IAAIC,EAAmB,KACvBD,EAAU,YAAY,SAAW,GACjCA,EAAU,YAAY,iBAAiB,QAASE,CAAK,EAErD,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAExBA,EAAc,CAAC,GAAK,IAAI,KACxBC,EAAS,KAAK,CACV,SAAU,SACV,MAAO,UACP,QAAS,oCACzB,CAAa,GAEDJ,EAAmBG,EAAc,CAAC,EAAE,QAAO,EAC3CJ,EAAU,YAAY,SAAW,GACjCA,EAAU,MAAM,SAAW,GAElC,CACL,EAEAM,EAAU,wBAAyBH,CAAO,EAE1C,SAASD,GAAQ,CACb,MAAMK,EAAQ,YAAY,IAAM,CAC5B,MAAMC,EAAc,IAAI,KAAM,EAAC,QAAO,EAChCC,EAAe,cAAgBD,EACrCE,EAAWC,EAAYF,CAAY,CAAC,EACpCT,EAAU,YAAY,SAAW,GACjCA,EAAU,MAAM,SAAW,GAEvBC,EAAmBO,EAAc,MACjC,cAAcD,CAAK,EACnBF,EAAS,KAAK,CACV,SAAU,SACV,MAAO,mBACP,QAAS,mBACzB,CAAa,EACDL,EAAU,YAAY,SAAW,GACjCA,EAAU,MAAM,SAAW,GAElC,EAAE,GAAI,CACX,CAEA,SAASW,EAAYC,EAAI,CAMrB,MAAMC,EAAgBC,EAAe,KAAK,MAAMF,EAAK,KAAG,CAAC,EACnDG,EAAiBD,EAAe,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EAC7DI,EAAmBF,EAAe,KAAK,MAAQF,EAAK,MAAO,KAAQ,GAAM,CAAC,EAC1EK,EAAkBH,EAAe,KAAK,MAASF,EAAK,MAAO,KAAQ,IAAU,MAAM,CAAC,EAE1F,MAAO,CAAE,cAAAC,EAAe,eAAAE,EAAgB,iBAAAC,EAAkB,gBAAAC,CAAiB,CAC/E,CAEA,SAASP,EAAW,CAAE,cAAAG,EAAe,eAAAE,EAAgB,iBAAAC,EAAkB,gBAAAC,CAAe,EAAI,CACtFjB,EAAU,KAAK,YAAca,EAC7Bb,EAAU,MAAM,YAAce,EAC9Bf,EAAU,QAAQ,YAAcgB,EAChChB,EAAU,QAAQ,YAAciB,CACpC,CAEA,SAASH,EAAeI,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC"}